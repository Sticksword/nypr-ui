<div class="stream-banner-card"
     style="background-image:url('/assets/img/backgrounds/streambanner.jpg')">
  <div>
    {{#if streams.isFulfilled}}

    <div class="stream-banner-station nudge">
      <span class="stream-banner__active-stream">
        {{activeStream.name}}
      </span>

      {{#power-select
        triggerComponent='stream-banner/trigger'
        renderInPlace=true
        searchEnabled=false
        dropdownClass="stream-banner-dropdown"
        selected=activeStream
        options=streams
        onchange=(action (mut activeStream))
        as |stream|}}
        {{stream.name}}
      {{/power-select}}
    </div>
    <div class="stream-banner-details">
        {{yield activeStream}}
    </div>
    <div class="stream-banner-controls">
      {{#listen-button
        audio=audio
        class='stream-banner-listenbutton nudge'
        type='blue-boss'
        state=(if (eq activeStream.slug audio.currentAudio.id) audio.playState)
        itemPK=activeStream.slug
        itemTitle=activeStream.name}}
        Listen Live
      {{/listen-button}}
    </div>
    {{#if (and activeStream.currentComposer.name activeStream.currentPiece)}}
      {{#link-to 'playlist' activeStream.slug class='stream-banner-recently link--blue'}}
        Recently played
        {{nypr-svg className="icon rotate-minus90" icon="caret-down"}}
      {{/link-to}}
    {{/if}}
    {{else}}
    Loading...
    {{/if}}
  </div>
</div>
